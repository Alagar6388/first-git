<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">

<h2>👋 Welcome, <%= user.username %></h2>
<a href="/auth/logout" class="btn btn-danger mb-3">Logout</a>
<a href="/dashboard/add" class="btn btn-primary mb-3">➕ Add Keyword</a>

<table class="table table-bordered table-striped">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Keyword</th>
      <th>Reply Text</th>
      <th>Image</th>
      <th>Attachment</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% if (keywords.length > 0) { %>
      <% keywords.forEach(k => { %>
        <tr>
          <td><%= k.id %></td>
          <td><%= k.keyword %></td>
          <td><%= k.reply_text %></td>
          <td>
            <% if (k.reply_image) { %>
              <img src="/<%= k.reply_image %>" width="100" alt="Image">
            <% } else { %>
              ❌
            <% } %>
          </td>
          <td>
            <% if (k.attachment_file) { %>
              <a href="/<%= k.attachment_file %>" target="_blank">Download</a>
            <% } else { %>
              ❌
            <% } %>
          </td>
          <td>
            <a href="/dashboard/edit/<%= k.id %>" class="btn btn-warning btn-sm">✏️ Edit</a>
            <form action="/dashboard/delete/<%= k.id %>" method="POST" style="display:inline;">
              <button class="btn btn-danger btn-sm" onclick="return confirm('Delete this keyword?')">🗑 Delete</button>
            </form>
          </td>
        </tr>
      <% }) %>
    <% } else { %>
      <tr>
        <td colspan="6" class="text-center">No keywords yet.</td>
      </tr>
    <% } %>
  </tbody>
</table>

</body>
</html>
